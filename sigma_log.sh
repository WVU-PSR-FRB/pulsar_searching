#!/bin/bash
#stack_search_pipeline
#SBATCH --job-name=stack_search
#SBATCH --mail-type=ALL
#SBATCH --mail-user=ak00021@mix.wvu.edu
#SBATCH --export=ALL
#SBATCH --mem=32G


dm_array=("470.90" "471.40" "471.90" "472.40" "472.90" "473.40" "473.90"
 "474.40" "474.90" "475.40" "475.90" "476.40" "476.90" "477.40" "477.90"
 "478.40" "478.90" "479.40" "479.90" "480.40" "480.90" "481.40" "481.90"
 "482.40" "482.90" "483.40" "483.90" "484.40" "484.90" "485.40" "485.90"
 "486.40" "486.90" "487.40" "487.90" "488.40" "488.90" "489.40" "489.90"
 "490.40" "490.90" "491.40" "491.90" "492.40" "492.90" "493.40" "493.90"
 "494.40" "494.90" "495.40" "495.90" "496.40" "496.90" "497.40" "497.90"
 "498.40" "498.90" "499.40" "499.90" "500.40" "500.90" "501.40" "501.90"
 "502.40" "502.90" "503.40" "503.90" "504.40" "504.90" "505.40" "505.90"
 "506.40" "506.90" "507.40" "507.90" "508.40" "508.90" "509.40" "509.90"
 "510.40" "510.90" "511.40" "511.90" "512.40" "512.90" "513.40" "513.90"
 "514.40" "514.90" "515.40" "515.90" "516.40" "516.90" "517.40" "517.90"
 "518.40" "518.90" "519.40" "519.90" "520.40" "520.90" "521.40" "521.90"
 "522.40" "522.90" "523.40" "523.90" "524.40" "524.90" "525.40" "525.90"
 "526.40" "526.90" "527.40" "527.90" "528.40" "528.90" "529.40" "529.90"
 "530.40" "530.90" "531.40" "531.90" "532.40" "532.90" "533.40" "533.90"
 "534.40" "534.90" "535.40" "535.90" "536.40" "536.90" "537.40" "537.90"
 "538.40" "538.90" "539.40" "539.90" "540.40" "540.90" "541.40" "541.90"
 "542.40" "542.90" "543.40" "543.90" "544.40" "544.90" "545.40" "545.90"
 "546.40" "546.90" "547.40" "547.90" "548.40" "548.90" "549.40" "549.90"
 "550.40" "550.90" "551.40" "551.90" "552.40" "552.90" "553.40" "553.90"
 "554.40" "554.90" "555.40" "555.90" "556.40" "556.90" "557.40" "557.90"
 "558.40" "558.90" "559.40" "559.90" "560.40" "560.90" "561.40" "561.90"
 "562.40" "562.90" "563.40" "563.90" "564.40" "564.90" "565.40" "565.90"
 "566.40" "566.90" "567.40" "567.90" "568.40" "568.90" "569.40" "569.90"
 "570.40" "570.90" "571.40" "571.90" "572.40" "572.90" "573.40" "573.90"
 "574.40" "574.90" "575.40" "575.90" "576.40" "576.90" "577.40" "577.90"
 "578.40" "578.90" "579.40" "579.90" "580.40" "580.90" "581.40" "581.90"
 "582.40" "582.90" "583.40" "583.90" "584.40" "584.90" "585.40" "585.90"
 "586.40" "586.90" "587.40" "587.90" "588.40" "588.90" "589.40" "589.90"
 "590.40" "590.90" "591.40" "591.90" "592.40" "592.90" "593.40" "593.90"
 "594.40" "594.90" "595.40" "595.90" "596.40" "596.90" "597.40" "597.90"
 "598.40" "598.90" "599.40" "599.90" "600.40" "600.90" "601.40" "601.90"
 "602.40" "602.90" "603.40" "603.90" "604.40" "604.90" "605.40" "605.90"
 "606.40" "606.90" "607.40" "607.90" "608.40" "608.90" "609.40" "609.90"
 "610.40" "610.90" "611.40" "611.90" "612.40" "612.90" "613.40" "613.90"
 "614.40" "614.90" "615.40" "615.90" "616.40" "616.90" "617.40" "617.90"
 "618.40" "618.90" "619.40" "619.90" "620.40" "620.90" "621.40" "621.90"
 "622.40" "622.90" "623.40" "623.90" "624.40" "624.90" "625.40" "625.90"
 "626.40" "626.90" "627.40" "627.90" "628.40" "628.90" "629.40" "629.90"
 "630.40" "630.90" "631.40" "631.90" "632.40" "632.90" "633.40" "633.90"
 "634.40" "634.90" "635.40" "635.90" "636.40" "636.90" "637.40" "637.90"
 "638.40" "638.90" "639.40" "639.90" "640.40" "640.90" "641.40" "641.90"
 "642.40" "642.90" "643.40" "643.90" "644.40" "644.90" "645.40" "645.90"
 "646.40" "646.90" "647.40" "647.90" "648.40" "648.90" "649.40" "649.90"
 "650.40" "650.90" "651.40" "651.90" "652.40" "652.90" "653.40" "653.90"
 "654.40" "654.90" "655.40" "655.90" "656.40" "656.90" "657.40" "657.90"
 "658.40" "658.90" "659.40" "659.90" "660.40" "660.90" "661.40" "661.90"
 "662.40" "662.90" "663.40" "663.90" "664.40" "664.90" "665.40" "665.90"
 "666.40" "666.90" "667.40" "667.90" "668.40" "668.90" "669.40" "669.90"
 "670.40" "670.90" "671.40" "671.90" "672.40" "672.90" "673.40" "673.90"
 "674.40" "674.90" "675.40" "675.90" "676.40" "676.90" "677.40" "677.90"
 "678.40" "678.90" "679.40" "679.90" "680.40" "680.90" "681.40" "681.90"
 "682.40" "682.90" "683.40" "683.90" "684.40" "684.90" "685.40" "685.90"
 "686.40" "686.90" "687.40" "687.90" "688.40" "688.90" "689.40" "689.90"
 "690.40" "690.90" "691.40" "691.90" "692.40" "692.90" "693.40" "693.90"
 "694.40" "694.90" "695.40" "695.90" "696.40" "696.90" "697.40" "697.90"
 "698.40" "698.90" "699.40" "699.90" "700.40" "700.90" "701.40" "701.90"
 "702.40" "702.90" "703.40" "703.90" "704.40" "704.90" "705.40" "705.90"
 "706.40" "706.90" "707.40" "707.90" "708.40" "708.90" "709.40" "709.90"
 "710.40" "710.90" "711.40" "711.90" "712.40" "712.90" "713.40" "713.90"
 "714.40" "714.90" "715.40" "715.90" "716.40" "716.90" "717.40" "717.90"
 "718.40" "718.90" "719.40" "719.90" "720.40" "720.90" "721.40" "721.90"
 "722.40" "722.90" "723.40" "723.90" "724.40" "724.90" "725.40" "725.90"
 "726.40" "726.90" "727.40" "727.90" "728.40" "728.90" "729.40" "729.90"
 "730.40" "730.90" "731.40" "731.90" "732.40" "732.90" "733.40" "733.90"
 "734.40" "734.90" "735.40" "735.90" "736.40" "736.90" "737.40" "737.90"
 "738.40" "738.90" "739.40" "739.90" "740.40" "740.90" "741.40" "741.90"
 "742.40" "742.90" "743.40" "743.90" "744.40" "744.90" "745.40" "745.90"
 "746.40" "746.90" "747.40" "747.90" "748.40" "748.90" "749.40" "749.90"
 "750.40" "750.90" "751.40" "751.90" "752.40" "752.90" "753.40" "753.90"
 "754.40" "754.90" "755.40" "755.90" "756.40" "756.90" "757.40" "757.90"
 "758.40" "758.90" "759.40" "759.90" "760.40" "760.90" "761.40" "761.90"
 "762.40" "762.90" "763.40" "763.90" "764.40" "764.90" "765.40" "765.90" 
 "766.40" "766.90" "767.40" "767.90" "768.40" "768.90" "769.40" "769.90" 
 "770.40" "770.90" "771.40" "771.90" "772.40" "772.90" "773.40" "773.90" 
 "774.40" "774.90" "775.40" "775.90" "776.40" "776.90" "777.40" "777.90" 
 "780.40" "780.90" "781.40" "781.90" "782.40" "782.90" "783.40" "783.90"
 "784.40" "784.90" "785.40" "785.90" "786.40" "786.90" "787.40" "787.90"
 "788.40" "788.90" "789.40" "789.90" "790.40" "790.90" "791.40" "791.90"
 "792.40" "792.90" "793.40" "793.90" "794.40" "794.90" "795.40" "795.90"
 "796.40" "796.90" "797.40" "797.90" "798.40" "798.90" "799.40" "799.90"
 "800.40" "800.90" "801.40" "801.90" "802.40" "802.90" "803.40" "803.90"
 "804.40" "804.90" "805.40" "805.90" "806.40" "806.90" "807.40" "807.90"
 "808.40" "808.90" "809.40" "809.90" "810.40" "810.90" "811.40" "811.90"
 "812.40" "812.90" "813.40" "813.90" "814.40" "814.90" "815.40" "815.90"
 "816.40" "816.90" "817.40" "817.90" "818.40" "818.90" "819.40" "819.90"
 "820.40" "820.90" "821.40" "821.90" "822.40" "822.90" "823.40" "823.90"
 "824.40" "824.90" "825.40" "825.90" "826.40" "826.90" "827.40" "827.90"
 "828.40" "828.90" "829.40" "829.90" "830.40" "830.90" "831.40" "831.90"
 "832.40" "832.90" "833.40" "833.90" "834.40" "834.90" "835.40" "835.90"
 "836.40" "836.90" "837.40" "837.90" "838.40" "838.90" "839.40" "839.90"
 "840.40" "840.90" "841.40" "841.90" "842.40" "842.90" "843.40" "843.90"
 "844.40" "844.90" "845.40" "845.90" "846.40" "846.90" "847.40" "847.90"
 "848.40" "848.90" "849.40" "849.90" "850.40" "850.90" "851.40" "851.90"
 "852.40" "852.90" "853.40" "853.90" "854.40" "854.90" "855.40" "855.90"
 "856.40" "856.90" "857.40" "857.90" "858.40" "858.90" "859.40" "859.90"
 "860.40" "860.90" "861.40" "861.90" "862.40" "862.90" "863.40" "863.90"
 "864.40" "864.90" "865.40" "865.90" "866.40" "866.90" "867.40" "867.90"
 "868.40" "868.90" "869.40" "869.90" "870.40" "870.90" "871.40" "871.90"
 "872.40" "872.90" "873.40" "873.90" "874.40" "874.90" "875.40" "875.90"
 "876.40" "876.90" "877.40" "877.90" "878.40" "878.90" "879.40" "879.90"
 "880.40" "880.90" "881.40" "881.90" "882.40" "882.90" "883.40" "883.90"
 "884.40" "884.90" "885.40" "885.90" "886.40" "886.90" "887.40" "887.90"
 "888.40" "888.90" "889.40" "889.90" "890.40" "890.90" "891.40" "891.90"
 "892.40" "892.90" "893.40" "893.90" "894.40" "894.90" "895.40" "895.90"
 "896.40" "896.90" "897.40" "897.90" "898.40" "898.90" "899.40" "899.90"
 "900.40" "900.90" "901.40" "901.90" "902.40" "902.90" "903.40" "903.90"
 "904.40" "904.90" "905.40" "905.90" "906.40" "906.90" "907.40" "907.90"
 "908.40" "908.90" "909.40" "909.90" "910.40" "910.90" "911.40" "911.90"
 "912.40" "912.90" "913.40" "913.90" "914.40" "914.90" "915.40" "915.90"
 "916.40" "916.90" "917.40" "917.90" "918.40" "918.90" "919.40" "919.90"
 "920.40" "920.90" "921.40" "921.90" "922.40" "922.90" "923.40" "923.90"
 "924.40" "924.90" "925.40" "925.90" "926.40" "926.90" "927.40" "927.90"
 "928.40" "928.90" "929.40" "929.90" "930.40" "930.90" "931.40" "931.90"
 "932.40" "932.90" "933.40" "933.90" "934.40" "934.90" "935.40" "935.90"
 "936.40" "936.90" "937.40" "937.90" "938.40" "938.90" "939.40" "939.90"
 "940.40" "940.90" "941.40" "941.90" "942.40" "942.90" "943.40" "943.90"
 "944.40" "944.90" "945.40" "945.90" "946.40" "946.90" "947.40" "947.90"
 "948.40" "948.90" "949.40" "949.90" "950.40" "950.90" "951.40" "951.90"
 "952.40" "952.90" "953.40" "953.90" "954.40" "954.90" "955.40" "955.90"
 "956.40" "956.90" "957.40" "957.90" "958.40" "958.90" "959.40" "959.90"
 "960.40" "960.90" "961.40" "961.90" "962.40" "962.90" "963.40" "963.90"
 "964.40" "778.40" "778.90" "779.40" "779.90" "965.40" "966.40" "967.40" 
 "968.40" "969.40" "970.40" "971.40" "972.40" "973.40" "974.40" "975.40" 
 "976.40" "977.40" "978.40" "979.40" "980.40" "981.40" "982.40" "983.40"
 "984.40" "985.40" "986.40" "987.40" "988.40" "989.40" "990.40" "991.40" 
 "992.40" "993.40" "994.40" "995.40" "996.40" "997.40" "998.40" "999.40" 
 "1000.40" "1001.40" "1002.40" "1003.40" "1004.40" "1005.40" "1006.40" 
 "1007.40" "1008.40" "1009.40" "1010.40" "1011.40" "1012.40" "1013.40")

for dm in "${dm_array[@]}";
do
	dm_val=$(echo "$dm")
	
	echo "$dm_val"

	#echo "${dm_array[@]}" | xargs -n 1 ls "fftfiles/GaiaNSCand0020_607**_pow_trimmed_DM${dm_array[@]}.fft"

	cp /minish/ak00021/project_GAIA/fftfiles/GaiaNSCand0020_607*_pow_trimmed_DM$dm_val.fft  ../fftfiles/GaiaNSCand0020_607*_pow_trimmed_DM$dm_val.inf .
	
	root_name="output_DM_"	

	last_name=".txt"
	
	echo "$root_name$dm_val$last_name"	
	
	python stacksearch.py *.fft -o $root_name$dm_val$last_name

	rm -rf *.fft *.inf

done
#echo ${dm_array[@]} | xargs -1 echo
#echo ${dm_array[@]} | xargs -n 1 python stacksearch.py fftfiles/GaiaNSCand0020_607**_pow_trimmed_DM0.00.fft  -o "output_DM_${dm_array[@]}.txt"
































echo "The code completes and stops at: "
date 
sleep 120
